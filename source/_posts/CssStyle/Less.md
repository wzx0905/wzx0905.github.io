---
title: Less
date: 2021/8/17
categories:
 - [前端,Css]
---

### 维护`css`的弊端

`css`是一门非程序式语言，没有变量、函数、`SCOPE`（作用域）等概念

- `CSS`需要书写大量看似没有逻辑的代码，`CSS`冗余度是比较高的。
- 不方便维护及拓展，不利于复用。
- `CSS`没有很好的计算能力
- 非前端开发工程师来讲，往往会因为缺少`CSS`编写经验而很难写出组织良好且易于维护的`CSS`代码项目

### `Less`介绍

- `Less`（`Leaner Style Sheets`的缩写）是一门`CSS`扩展语言，也成为`CSS`预处理器
- 作为`CSS`的一种形式的扩展，它并没有减少`CSS`的功能，而是在现有的`CSS`语法上，为`CSS`假如程序式语言的特性
- 它在`CSS`的语法基础之上，引入了变量，`Minin`（混入），运算以及函数等功能，大大简化了`CSS`的编写，并且降低了`CSS`的维护成本，就像它的名称所说的那样，`Less`可以让我们用更少的代码做更多的事。
- [`Less`中文网址](http://lesscss.cn/)
- 常见的`CSS`预处理器：`Sass`、`Less`、`Stylus`
- `Less`是一门`CSS`预处理语言，它扩展了`CSS`的动态特性

### `Less`安装

- 安装`nodejs`，可选择最新的版本，网址：[`Node.js`](https://nodejs.org/en/download/)
- 检查是否安装成功，使用`cmd`命令（`win10`是`window`+`r`打开`运行`输入`cmd`）
- 输入`node -v`查看版本
- 基于`node.js`在线安装`Less`，使用`cmd`命令`npm install -g less`即可
- 检查是否安装成功，使用`cmd`命令`lessc -v`查看版本即可

### `Less`使用

新建一个后缀名为`.less`的文件，在这个`.less`文件里面书写`Less`语句。

#### `Less`变量

- 变量是指没有固定的值，可以动态改变的。因为我们`CSS`中的一些颜色和数值等经常使用。

- `@变量名:值;`

- 变量命名规范

  - 必须有`@`为前缀
  - 不能包含特殊字符
  - 不能以数字开头
  - 大小写敏感

- 变量使用规范

  - ```less
    @color: pink;
    // 直接使用
    body {
      color: @color;
    }
    ```

#### `Less`编译

- 本质上，`Less`包含一套自定义的语法及一个解析器，用户根据这些语法定义自己的样式规则，这些规则最终会通过解析器，编译生成对应的`CSS`文件。
- 所以我们需要把我们的`.less`文件，编译生成为`.css`文件，这样我们的`html`页面才能使用。
- 推荐方法（`nodejs`）：在当前文件夹，使用`cmd`命令"`less style.less>style.css`"

#### `VScode Less`插件

- `Easy LESS`插件用来把`less`文件编译为`css`文件
- 安装完毕插件，重新加载下`vscode`
- 只要保存一下`Less`文件，会自动生成`CSS`文件

#### `Less`嵌套

- 常规`CSS`选择器

  - ```css
    #header .logo {
        width: 300px;
    }
    ```

- `Less`嵌套写法

  - ```less
    #header {
        .logo {
            width: 300px;
        }
    }
    ```

- 如果遇见（交集|伪类|伪元素选择器）

  - 内层选择器的前面没有`&`符号，则它被解析为父选择器的后代；

  - 如果有`&`符号，它就被解析为父元素自身或父元素的伪类。

  - 常规`CSS`选择器

    - ```css
      a:hover {
          color: red;
      }
      ```

  - `Less`嵌套写法

    - ```less
      a {
          &:hover {
              color: red;
          }
      }
      ```

#### `Less`运算

- 任何数字、颜色或者变量都可以参与运算。`Less`提供了加（`+`）、减（`-`）、乘（`*`）、除（`/`）算术运算。
- 注意
  - 乘号（`*`）和除号（`/`）的写法
  - 对于两个不同的单位的值之间的运算，运算结果的值取第一个值的单位
  - 如果两个值之间只有一个值有单位，则运算结果就取该单位
  - `运算符中间左右有个空格隔开1px+5rem`

