<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>video.js</title>
    <url>/2022/08/8762987745d8/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h3 id="video-js概述"><a href="#video-js概述" class="headerlink" title="video.js概述"></a>video.js概述</h3><ul>
<li>video.js是一个通用的在网页上嵌入视频播放器的JS库。video.js旨在增强HTML5中的video元素，它的嵌入代码只是一个video元素。video.js将video元素包装在一个div中，该div用于放置控件和播放器所需的任何其他内容。</li>
<li>官网地址：<a href="https://videojs.com/">https://videojs.com/</a></li>
</ul>
<h3 id="video-js使用"><a href="#video-js使用" class="headerlink" title="video.js使用"></a>video.js使用</h3><h5 id="CDN"><a href="#CDN" class="headerlink" title="CDN"></a>CDN</h5><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">href</span>=<span class="string">&quot;https://vjs.zencdn.net/7.20.2/video-js.css&quot;</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> /&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- If you&#x27;d like to support IE8 (for Video.js versions prior to v7) --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- &lt;script src=&quot;https://vjs.zencdn.net/ie8/1.1.2/videojs-ie8.min.js&quot;&gt;&lt;/script&gt; --&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">video</span></span></span><br><span class="line"><span class="tag">           <span class="attr">id</span>=<span class="string">&quot;my-video&quot;</span></span></span><br><span class="line"><span class="tag">           <span class="attr">class</span>=<span class="string">&quot;video-js&quot;</span></span></span><br><span class="line"><span class="tag">           <span class="attr">controls</span></span></span><br><span class="line"><span class="tag">           <span class="attr">preload</span>=<span class="string">&quot;auto&quot;</span></span></span><br><span class="line"><span class="tag">           <span class="attr">width</span>=<span class="string">&quot;640&quot;</span></span></span><br><span class="line"><span class="tag">           <span class="attr">height</span>=<span class="string">&quot;264&quot;</span></span></span><br><span class="line"><span class="tag">           <span class="attr">poster</span>=<span class="string">&quot;MY_VIDEO_POSTER.jpg&quot;</span></span></span><br><span class="line"><span class="tag">           <span class="attr">data-setup</span>=<span class="string">&quot;&#123;&#125;&quot;</span></span></span><br><span class="line"><span class="tag">           &gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">source</span> <span class="attr">src</span>=<span class="string">&quot;MY_VIDEO.mp4&quot;</span> <span class="attr">type</span>=<span class="string">&quot;video/mp4&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">source</span> <span class="attr">src</span>=<span class="string">&quot;MY_VIDEO.webm&quot;</span> <span class="attr">type</span>=<span class="string">&quot;video/webm&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;vjs-no-js&quot;</span>&gt;</span></span><br><span class="line">            To view this video please enable JavaScript, and consider upgrading to a</span><br><span class="line">            web browser that</span><br><span class="line">            <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;https://videojs.com/html5-video-support/&quot;</span> <span class="attr">target</span>=<span class="string">&quot;_blank&quot;</span></span></span><br><span class="line"><span class="tag">               &gt;</span>supports HTML5 video&lt;/a</span><br><span class="line">                &gt;</span><br><span class="line">        <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">video</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://vjs.zencdn.net/7.20.2/video.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> player = <span class="title function_">videojs</span>(<span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;.video-js&#x27;</span>))</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h5 id="npm"><a href="#npm" class="headerlink" title="npm"></a>npm</h5><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">npm install --save-dev video.js</span></span><br></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">video</span> <span class="attr">id</span>=<span class="string">&quot;my-video&quot;</span> <span class="attr">class</span>=<span class="string">&quot;video-js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">video</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> videojs <span class="keyword">from</span> <span class="string">&#x27;video.js&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;video.js/dist/video-js.css&#x27;</span>;</span><br><span class="line"><span class="keyword">const</span> player = <span class="title function_">videojs</span>(<span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;.video-js&#x27;</span>));</span><br></pre></td></tr></table></figure>

<h5 id="修改配置"><a href="#修改配置" class="headerlink" title="修改配置"></a>修改配置</h5><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> player = <span class="title function_">videojs</span>(<span class="string">&#x27;my-video&#x27;</span>, &#123;</span><br><span class="line">  <span class="attr">autoplay</span>: <span class="string">&#x27;muted&#x27;</span></span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// or</span></span><br><span class="line">player.<span class="title function_">autoplay</span>(<span class="string">&#x27;muted&#x27;</span>);</span><br></pre></td></tr></table></figure>

<h5 id="常用配置"><a href="#常用配置" class="headerlink" title="常用配置"></a>常用配置</h5><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="title function_">videojs</span>(<span class="string">&#x27;my-video&#x27;</span>, &#123;</span><br><span class="line">    <span class="attr">autoplay</span>: <span class="literal">true</span>, <span class="comment">// 自动播放(如果video存在autoplay属性，则会被忽略)</span></span><br><span class="line">        <span class="comment">// false: 不会自动播放</span></span><br><span class="line">        <span class="comment">// true: 自动播放(受浏览器自动播放策略的限制)</span></span><br><span class="line">        <span class="comment">// &#x27;muted&#x27;: 将video元素静音，在加载启动时调用play()</span></span><br><span class="line">        <span class="comment">// &#x27;play&#x27;: 将在加载启动时调用play()，类似于浏览器自动播放</span></span><br><span class="line">        <span class="comment">// &#x27;any&#x27;: 在加载启动时调用play()，如果失败，会将video元素静音，然后调用play()</span></span><br><span class="line">    <span class="attr">controls</span>: <span class="literal">true</span>, <span class="comment">// 显示控件</span></span><br><span class="line">    <span class="attr">loop</span>: <span class="literal">false</span>, <span class="comment">// 循环</span></span><br><span class="line">    <span class="attr">muted</span>: <span class="literal">false</span>, <span class="comment">// 静音</span></span><br><span class="line">    <span class="attr">poster</span>: <span class="string">&#x27;&#x27;</span>, <span class="comment">// 封面</span></span><br><span class="line">    <span class="attr">width</span>: <span class="number">320</span>, <span class="comment">// 宽</span></span><br><span class="line">    <span class="attr">height</span>: <span class="number">180</span>, <span class="comment">// 高</span></span><br><span class="line">    <span class="attr">src</span>: <span class="string">&#x27;&#x27;</span>, <span class="comment">// 视频源URL</span></span><br><span class="line">    <span class="attr">preload</span>: <span class="string">&#x27;auto&#x27;</span>, <span class="comment">// 是否在加载video元素之后立即下载视频数据</span></span><br><span class="line">        <span class="comment">// &#x27;auto&#x27;: 立即加载视频数据(如果浏览器支持)</span></span><br><span class="line">        <span class="comment">// &#x27;metadata&#x27;: 只加载视频的meta数据，如duration、dimensions等</span></span><br><span class="line">        <span class="comment">// &#x27;none&#x27;: 不预加载任何数据</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>更多配置项请查看官方ApiDocs：<a href="https://videojs.com/guides/options/">Video.js Options Reference | Video.js (videojs.com)</a></p>
]]></content>
      <categories>
        <category>库</category>
        <category>JS</category>
      </categories>
      <tags>
        <tag>技术</tag>
      </tags>
  </entry>
</search>
